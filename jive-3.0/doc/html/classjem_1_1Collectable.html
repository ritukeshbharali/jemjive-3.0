
<!-- Generated on Fri 20 Dec 14:46:38 CET 2019.
     CHANGES TO THIS FILE WILL BE LOST. -->
<!-- HTML header for doxygen 1.8.16-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jive reference manual: jem::Collectable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Jive reference manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejem.html">jem</a></li><li class="navelem"><a class="el" href="classjem_1_1Collectable.html">Collectable</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classjem_1_1Collectable-members.html">List of all members</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">jem::Collectable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides support for automatic garbage collection.  
 <a href="classjem_1_1Collectable.html#details">More...</a></p>

<p><code>#include &lt;jem/base/Collectable.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for jem::Collectable:</div>
<div class="dyncontent">
<div class="center"><img src="classjem_1_1Collectable__inherit__graph.png" border="0" usemap="#jem_1_1Collectable_inherit__map" alt="Inheritance graph"/></div>
<map name="jem_1_1Collectable_inherit__map" id="jem_1_1Collectable_inherit__map">
<area shape="rect" title="Provides support for automatic garbage collection." alt="" coords="5,132,133,159"/>
<area shape="rect" href="classjem_1_1io_1_1Deflator.html" title=" " alt="" coords="219,5,346,32"/>
<area shape="rect" href="classjem_1_1io_1_1Inflator.html" title=" " alt="" coords="222,56,343,83"/>
<area shape="rect" href="classjem_1_1mt_1_1IOMutex.html" title=" " alt="" coords="215,107,350,133"/>
<area shape="rect" href="classjem_1_1Object.html" title="Provides a single superclass for many classes in jem." alt="" coords="234,157,331,184"/>
<area shape="rect" href="classjive_1_1implict_1_1SolverRunData.html" title=" " alt="" coords="181,208,384,235"/>
<area shape="rect" href="classjive_1_1mp_1_1BorderXData.html" title=" " alt="" coords="199,259,366,285"/>
<area shape="rect" href="classjem_1_1Boolean.html" title=" " alt="" coords="447,81,555,108"/>
<area shape="rect" href="classjem_1_1Character.html" title=" " alt="" coords="442,132,561,159"/>
<area shape="rect" href="classjem_1_1gl_1_1ColorMap.html" title=" " alt="" coords="433,183,569,209"/>
<area shape="rect" href="classjem_1_1gl_1_1Controller.html" title=" " alt="" coords="432,233,571,260"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5cd264b438788a1744be83849f86c1a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjem_1_1Collectable.html#a5cd264b438788a1744be83849f86c1a4">Collectable</a> ()</td></tr>
<tr class="memdesc:a5cd264b438788a1744be83849f86c1a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an empty <code><a class="el" href="classjem_1_1Collectable.html" title="Provides support for automatic garbage collection.">Collectable</a></code>.  <a href="classjem_1_1Collectable.html#a5cd264b438788a1744be83849f86c1a4">More...</a><br /></td></tr>
<tr class="separator:a5cd264b438788a1744be83849f86c1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af76a7864a01221eb9feff2d8ae5922"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjem_1_1Collectable.html#a9af76a7864a01221eb9feff2d8ae5922">~Collectable</a> ()</td></tr>
<tr class="memdesc:a9af76a7864a01221eb9feff2d8ae5922"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees resources.  <a href="classjem_1_1Collectable.html#a9af76a7864a01221eb9feff2d8ae5922">More...</a><br /></td></tr>
<tr class="separator:a9af76a7864a01221eb9feff2d8ae5922"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Objects derived from the <code><a class="el" href="classjem_1_1Collectable.html" title="Provides support for automatic garbage collection.">Collectable</a></code> class are subjected to automatic garbage collection. These<a class="anchor" id="CollectableObject"></a><em>collectable objects</em> are created on the heap and are automatically deleted when they can no longer be reached from the program. It is not possible to delete collectable objects explicitly through a delete expression.</p>
<p><a class="el" href="classjem_1_1Collectable.html" title="Provides support for automatic garbage collection.">Collectable</a> objects are normally accessed through instances of the template class <code><a class="el" href="classjem_1_1Ref.html" title="Provides ‘safe’ access to a collectable object.">Ref</a></code> that mimics the behavior of a pointer. As long as a collectable object can be reached through a <code><a class="el" href="classjem_1_1Ref.html" title="Provides ‘safe’ access to a collectable object.">Ref</a></code> instance, or a sequence of <code><a class="el" href="classjem_1_1Ref.html" title="Provides ‘safe’ access to a collectable object.">Ref</a></code> instances, that object will not be deleted. Although one can also access collectable objects through normal pointers, it is unspecified whether the existence of a route from a live pointer (i.e. a pointer that can be reached from the program) to a collectable object prevents the deletion of that object. This means that one can not be sure that a collectable object exists when it can only be reached through one or more normal pointers. This is also true for references to collectable objects.</p>
<p><a class="el" href="classjem_1_1Collectable.html" title="Provides support for automatic garbage collection.">Collectable</a> objects must be created with the template function <code><a class="el" href="classjem_1_1Ref.html#ace5fd1e3e7c60c83a84ec80e52641bc3" title="Creates a collectable object of type T.">newInstance()</a></code> that mimics a new expression but returns a <code><a class="el" href="classjem_1_1Ref.html" title="Provides ‘safe’ access to a collectable object.">Ref</a></code> object instead of a normal pointer. The <code><a class="el" href="classjem_1_1Ref.html#ace5fd1e3e7c60c83a84ec80e52641bc3" title="Creates a collectable object of type T.">newInstance()</a></code> function can be supplied a variable number of arguments that will be passed on to the matching constructor of the collectable class. If the constructor throws an exception, <code><a class="el" href="classjem_1_1Ref.html#ace5fd1e3e7c60c83a84ec80e52641bc3" title="Creates a collectable object of type T.">newInstance()</a></code> will deallocate all previously allocated memory and re-throw the exception, just like a new expression does. The following example shows how the <code>newInstance</code> function can be used.</p>
<div class="fragment"><div class="line">Ref&lt;Boolean&gt; b =               <span class="comment">// Equivalent with:</span></div>
<div class="line">  newInstance&lt;Boolean&gt;();      <span class="comment">//   new Boolean();</span></div>
<div class="line"> </div>
<div class="line">Ref&lt;Float&gt; f =                 <span class="comment">// Equivalent with:</span></div>
<div class="line">  newInstance&lt;Float&gt;( 0.5 );   <span class="comment">//   new Float( 0.5 );</span></div>
</div><!-- fragment --><p>The function <code><a class="el" href="classjem_1_1Ref.html#ace5fd1e3e7c60c83a84ec80e52641bc3" title="Creates a collectable object of type T.">newInstance()</a></code> is not able to call a constructor that has one or more references (such as <code>int&amp;</code>) in its argument list. Normally this is not a problem because a constructor will only rarely need to modify its arguments. If, however, this is a problem for you, use a pointer instead of a reference.</p>
<p>A collectable object must not be created on the stack. To prevent this from accidentally happening, a collectable class should declare its destructor as a protected or private member.</p>
<dl class="section note"><dt>Note</dt><dd>The current implementation of the <code><a class="el" href="classjem_1_1Collectable.html" title="Provides support for automatic garbage collection.">Collectable</a></code> class is based on a thread-safe reference counting scheme that does not work properly when collectable objects are referencing each other. For instance, if object <em>A</em> has a <code><a class="el" href="classjem_1_1Ref.html" title="Provides ‘safe’ access to a collectable object.">Ref</a></code> to object <em>B</em> which has a <code><a class="el" href="classjem_1_1Ref.html" title="Provides ‘safe’ access to a collectable object.">Ref</a></code> to object <em>A</em>, then both objects will never be deleted, even if they are no longer reachable from the program.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="classjem_1_1Ref.html" title="Provides ‘safe’ access to a collectable object.">Ref</a></code>, <code><a class="el" href="classjem_1_1WeakRef.html" title="Provides ‘safe’ acces to a collectable object without preventing the deletion of that object.">WeakRef</a></code>. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5cd264b438788a1744be83849f86c1a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd264b438788a1744be83849f86c1a4">&#9670;&nbsp;</a></span>Collectable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">jem::Collectable::Collectable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an empty <code><a class="el" href="classjem_1_1Collectable.html" title="Provides support for automatic garbage collection.">Collectable</a></code>. </p>

</div>
</div>
<a id="a9af76a7864a01221eb9feff2d8ae5922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9af76a7864a01221eb9feff2d8ae5922">&#9670;&nbsp;</a></span>~Collectable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">jem::Collectable::~Collectable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The destructor of a collectable object is called when the object is deleted. Since it is not specified when the object is deleted, one should not depend on the destructor to free critical system resources such as file descriptors.</p>
<dl class="section note"><dt>Note</dt><dd>The destructor of a collectable object should be declared protected or private to prevent that such an object is created on the stack. </dd></dl>

</div>
</div>
</div><!-- contents -->

<!-- Generated on Fri 20 Dec 14:46:38 CET 2019.
     CHANGES TO THIS FILE WILL BE LOST. -->
<hr class="footer"/>
<div class="footer">
  <a href="http://www.dynaflow.com">
    <img class="logo" align="left" src="logo.png"
      width="218" height="25" alt="logo" border="null"/>
  </a>
  <div align="right">
    <small>
      Generated on Fri Dec 20 2019 14:46:41 by Doxygen
    </small>
  </div>
</div>
</body>
</html>
