
<!-- Generated on Fri 20 Dec 14:46:38 CET 2019.
     CHANGES TO THIS FILE WILL BE LOST. -->
<!-- HTML header for doxygen 1.8.16-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jive reference manual: Proxy methods</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Jive reference manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Proxy methods </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A proxy method is a regular function that acts as a method (non-static member function) of a collectable object. Proxy methods are useful if you need to connect an event to a method with incompatible arguments.</p>
<p>Suppose, for instance, that you have two classes, named <code>SignalSampler</code> and <code>RealTimeGraph</code>, that are defined as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>SignalSampler : <span class="keyword">public</span> Collectable</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// First event argument  : time of sample.</span></div>
<div class="line">  <span class="comment">// Second event argument : signal level.</span></div>
<div class="line"> </div>
<div class="line">  Event&lt;Time,double&gt;  newSampleEvent;</div>
<div class="line">  </div>
<div class="line">  </div>
<div class="line">  <span class="comment">// More members ...</span></div>
<div class="line">  </div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>RealTimeGraph : <span class="keyword">public</span> Collectable</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> addPoint ( <span class="keywordtype">double</span> value, <span class="keyword">const</span> Time&amp; t );</div>
<div class="line">  </div>
<div class="line">  </div>
<div class="line">  <span class="comment">// More members ...</span></div>
<div class="line">  </div>
<div class="line">};</div>
</div><!-- fragment --><p>Now you want to connect the <code>newSampleEvent</code> of the <code>SignalSampler</code> class to the method <code>addPoint</code> of the <code>RealTimeGraph</code>. Unfortunately, this is not possible because the order of the arguments is incorrect. This problem can be solved elegantly by defining a proxy method that calls the <code>addPoint</code> method with the arguments in the correct order. The following code shows how to do this.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> addPointProxy ( RealTimeGraph&amp;  graph,</div>
<div class="line">                     <span class="keyword">const</span> Time&amp;     t,</div>
<div class="line">                     <span class="keywordtype">double</span>          value )</div>
<div class="line">{</div>
<div class="line">  graph.addPoint ( value, t );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main ()</div>
<div class="line">{</div>
<div class="line">  Ref&lt;SignalSampler&gt; sampler = newInstance&lt;SignalSampler&gt; ();</div>
<div class="line">  Ref&lt;RealTimeGraph&gt; graph   = newInstance&lt;RealTimeGraph&gt; ();</div>
<div class="line">  </div>
<div class="line">  connect ( sampler-&gt;newSampleEvent,</div>
<div class="line">            graph,</div>
<div class="line">            &amp; addPointProxy );</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// ...</span></div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The proxy method <code>addPointProxy</code> has three arguments. The first argument is a reference to the collectable object to which the <code>newSampleEvent</code> has been connected. The other two arguments are the arguments of the event. Connecting the <code>newSampleEvent</code> to the proxy method is similar to connecting the event to a normal method.</p>
<p>In general, a proxy method has the following signature:</p>
<p><code>R proxyMethod ( <a class="el" href="classT.html">T</a>&amp; obj, A a, B b, C c )</code></p>
<p>with <code>R</code> the return type (usually <code>void</code>); with <code><a class="el" href="classT.html">T</a></code> the type of the object on which the proxy method operates; and with <code>A</code>, <code>B</code> and <code>C</code> the argument types of the proxy method. These must be compatible with the argument types of the event that is connected to the proxy method. The number of arguments may be less than three; the only requirement is that the number of arguments does not exceed the number of arguments of the event that is connected to the proxy method.</p>
<p>An event is connected to a proxy method by calling the <code><a class="el" href="classjem_1_1util_1_1Event.html#af1fb0cf6288aa9f81a731a1b5e54c2fa">connect()</a></code> function with three arguments: the event to be connected, the object on which the proxy is to operate, and the address of the proxy method. For instance, the call</p>
<p><code>connect ( e, obj, &amp; proxy )</code></p>
<p>connects the event <code>e</code> to the proxy method <code>proxy</code>. When the event is emitted, the proxy method is called with the object <code>obj</code> as its first argument, and with the event arguments as the remaining arguments. If the event has more arguments than the proxy method, then the last few event arguments are discarded. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->

<!-- Generated on Fri 20 Dec 14:46:38 CET 2019.
     CHANGES TO THIS FILE WILL BE LOST. -->
<hr class="footer"/>
<div class="footer">
  <a href="http://www.dynaflow.com">
    <img class="logo" align="left" src="logo.png"
      width="218" height="25" alt="logo" border="null"/>
  </a>
  <div align="right">
    <small>
      Generated on Fri Dec 20 2019 14:46:40 by Doxygen
    </small>
  </div>
</div>
</body>
</html>
